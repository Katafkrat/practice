class APIService {
	_apiKey = 'ff33b5ea2d52e04476b8aa3e11ee5f3f'
	_apiBase = 'https://api.themoviedb.org/3/'

	getResource = async url => {
		let res = await fetch(url)

		if(!res.ok)
			throw new Error(`Could not fetch ${url}, status: ${res.status}`)

		return await res.json()
	}

	getPopularMovies = async () => {
		try {
			const data = await this.getResource(`${this._apiBase}movie/popular?api_key=${this._apiKey}`)
			console.log(data)
		} catch (error) {
			console.error('Error fetching popular movies:', error)
		}
	}
}

export default APIService
